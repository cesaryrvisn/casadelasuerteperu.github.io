<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Casa de la Suerte Per√∫ ‚Äî Sorteos</title>

<!-- Meta para redes -->
<meta name="description" content="Casa de la Suerte Per√∫ ‚Äî participa y gana premios cada d√≠a. Paga por Yape o tarjeta.">

<style>
  :root{
    --bg1:#052a66;
    --card:#08224f;
    --accent:#ffd400;
    --muted:#cfe6ff;
    --green:#0ff080;
    --glass: rgba(255,255,255,0.04);
    --radius:28px;
    font-family: 'Inter', system-ui, -apple-system, "Helvetica Neue", Arial;
  }
  html,body{height:100%;}
  body{
    margin:0;
    background: linear-gradient(180deg,#021030 0%, #001c3a 50%, #001528 100%);
    color:#fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow-y:auto;
  }

  /* header */
  .top{
    padding:26px 18px 8px;
    text-align:center;
  }
  .brand{
    font-weight:800;
    font-size:28px;
    color:var(--accent);
    text-shadow:0 6px 18px rgba(0,0,0,0.6);
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:center;
  }
  .subtitle{
    margin-top:10px;
    font-size:16px;
    color:var(--muted);
  }

  /* big hero */
  .hero{
    margin:18px auto;
    max-width:920px;
    padding:30px;
    border-radius:24px;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    box-shadow: 0 20px 40px rgba(0,0,0,0.6);
  }

  .card{
    background: linear-gradient(180deg, rgba(6,21,48,0.98), rgba(2,17,39,0.96));
    padding:26px;
    border-radius:var(--radius);
    box-shadow: 0 18px 36px rgba(0,0,0,0.55), inset 0 -8px 28px rgba(0,0,0,0.2);
  }

  h1{font-size:34px;margin:6px 0;color:var(--accent);text-align:center}
  p.lead{color:var(--muted);text-align:center;margin:10px 0 22px;}

  .center{display:flex;flex-direction:column;align-items:center;gap:12px}

  /* Info numbers */
  .numbers{display:flex;flex-direction:column;gap:8px;align-items:center;margin:6px 0 18px}
  .numbers .big{font-weight:700;color:var(--green);font-size:22px;text-shadow:0 6px 18px rgba(0,0,0,0.6)}

  /* Tickets controls */
  .ticket-row{display:flex;gap:12px;align-items:center;justify-content:center;margin:8px 0}
  .ticket-row label{min-width:68px;font-weight:600}
  .ticket-input{
    width:86px;padding:10px;border-radius:12px;border:none;text-align:center;font-size:18px;font-weight:700;background:#fff;color:#000;
    box-shadow:0 8px 18px rgba(2,8,30,0.3);
  }
  .total{font-size:18px;color:var(--muted);font-weight:700;margin-left:12px}

  /* buttons */
  .btn-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:12px}
  .btn{
    border:none;padding:14px 20px;border-radius:14px;font-weight:800;cursor:pointer;min-width:180px;
    display:inline-flex;align-items:center;gap:10px;justify-content:center;
    box-shadow: 0 10px 20px rgba(0,0,0,0.4);
  }
  .btn-card{background:#ff3b3b;color:white}
  .btn-yape{background:#ff7b5b;color:white}
  .btn:active{transform:translateY(2px)}

  /* QR box */
  .qr-box{margin-top:20px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));padding:18px;border-radius:16px;text-align:center}
  .qr-box img{width:220px;height:220px;border-radius:12px;background:#fff;padding:8px;box-shadow:0 8px 28px rgba(0,0,0,0.4)}
  .muted{color:var(--muted);font-size:14px}

  /* prizes / winners / comments */
  .section{margin:26px auto;max-width:920px;padding:18px}
  .section h2{font-size:22px;color:var(--accent);text-shadow:0 6px 18px rgba(0,0,0,0.5);margin-bottom:12px;text-align:center}

  .prizes-grid{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
  .prize{width:120px;height:120px;border-radius:14px;background:#072449;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 20px rgba(0,0,0,0.45)}
  .prize img{width:60%;height:auto}

  .winners{display:flex;flex-direction:column;gap:10px;align-items:center}
  .winner-card{width:100%;max-width:760px;background:linear-gradient(90deg, rgba(0,0,0,0.2), rgba(255,255,255,0.02));padding:12px;border-radius:12px;display:flex;align-items:center;gap:12px}
  .winner-card img{width:56px;height:56px;border-radius:8px;object-fit:cover}
  .winner-name{font-weight:700}

  .comments{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:14px}
  .bubble{background:#0a1b3b;padding:12px;border-radius:14px;max-width:260px;box-shadow:0 8px 16px rgba(0,0,0,0.4)}

  /* footer */
  footer{padding:28px;text-align:center;color:var(--muted);font-size:14px;margin-top:30px}

  /* floating confetti */
  .confetti{position:fixed;left:0;right:0;top:0;bottom:0;pointer-events:none;mix-blend-mode:screen;opacity:0.8}
  .dot{position:absolute;width:18px;height:18px;border-radius:50%;animation:float 7s linear infinite;opacity:0.95}
  @keyframes float{
    0%{transform:translateY(-10vh) translateX(0) scale(0.8);opacity:1}
    100%{transform:translateY(110vh) translateX(120px) scale(1);opacity:0}
  }

  /* responsive */
  @media (max-width:600px){
    h1{font-size:28px}
    .brand{font-size:20px}
    .ticket-input{width:78px}
    .qr-box img{width:200px;height:200px}
  }
</style>
</head>
<body>

<!-- floating confetti (pure CSS circles, for visual pop) -->
<div class="confetti" aria-hidden="true">
  <div class="dot" style="background:#ff3b3b;left:6%;animation-duration:6s;top:-5%"></div>
  <div class="dot" style="background:#ffd400;left:20%;animation-duration:8s;top:-10%;width:14px;height:14px"></div>
  <div class="dot" style="background:#3bffb5;left:35%;animation-duration:7.5s;top:-8%"></div>
  <div class="dot" style="background:#6ea8ff;left:50%;animation-duration:6.7s;top:-6%"></div>
  <div class="dot" style="background:#ff7b5b;left:70%;animation-duration:9s;top:-12%"></div>
  <div class="dot" style="background:#ff6bf0;left:88%;animation-duration:7.4s;top:-9%"></div>
</div>

<header class="top">
  <div class="brand">üçÄ CASA DE LA SUERTE PER√ö</div>
  <div class="subtitle">La Suerte del D√≠a ‚Äî participa y gana premios cada d√≠a</div>
</header>

<main>
  <section class="hero">
    <div class="card">
      <div class="center">
        <h1>üéØ Sorteo Diario Acumulable</h1>
        <p class="lead">Participa desde S/1 y mira c√≥mo crece el pozo en tiempo real. Tambi√©n participa en sorteos especiales por S/10.</p>

        <!-- numbers -->
        <div class="numbers">
          <div>Pozo actual: <span id="pozo" class="big">S/ 0.00</span></div>
          <div>Acumulado total: <span id="acum" class="big">S/ 0.00</span></div>
        </div>

        <!-- tickets controls -->
        <div class="ticket-row">
          <label>Sorteo S/1:</label>
          <input id="tickets1" class="ticket-input" type="number" min="1" value="1" />
          <div class="total" id="total1">Total: S/ 1.00</div>
        </div>

        <div class="btn-row">
          <button class="btn btn-yape" id="payYape1">üì≤ Pagar por Yape (S/1)</button>
          <button class="btn btn-card" id="payCard1">üí≥ Pagar con Tarjeta (S/1)</button>
        </div>

        <div style="height:18px"></div>

        <!-- special S/10 -->
        <div class="ticket-row">
          <label>Sorteo S/10:</label>
          <input id="tickets10" class="ticket-input" type="number" min="1" value="1" />
          <div class="total" id="total10">Total: S/ 10.00</div>
        </div>

        <div class="btn-row">
          <button class="btn btn-yape" id="payYape10">üì≤ Pagar por Yape (S/10)</button>
          <button class="btn btn-card" id="payCard10">üí≥ Pagar con Tarjeta (S/10)</button>
        </div>

        <!-- qr & helper -->
        <div class="qr-box" id="qrBox">
          <div class="muted">Escanea el QR o env√≠a al n√∫mero <strong id="yapeNum">936331215</strong></div>
          <div style="height:12px"></div>
          <img id="qrImg" src="" alt="QR de pago" />
          <div style="height:8px"></div>
          <div class="muted">QR din√°mico (se actualiza con el monto). El bot√≥n de tarjeta abre MercadoPago.</div>
        </div>

      </div>
    </div>
  </section>

  <!-- prizes -->
  <section class="section">
    <h2>üèÜ Premios del D√≠a</h2>
    <div class="prizes-grid">
      <div class="prize"><img src="https://i.imgur.com/6K7b5xC.png" alt="premio1" /></div>
      <div class="prize"><img src="https://i.imgur.com/Lx5q5k2.png" alt="premio2" /></div>
      <div class="prize"><img src="https://i.imgur.com/2KXzK0u.png" alt="premio3" /></div>
    </div>
  </section>

  <!-- winners -->
  <section class="section">
    <h2>üèÖ Ganadores recientes</h2>
    <div class="winners">
      <!-- ejemplo: reemplaza con datos reales si los tienes -->
      <div class="winner-card">
        <img src="https://i.pravatar.cc/56?img=12" alt="ganador">
        <div>
          <div class="winner-name">Mar√≠a R. ‚Äî S/500</div>
          <div class="muted">Ganador del sorteo especial ‚Äî 2025-05-01</div>
        </div>
      </div>

      <div class="winner-card">
        <img src="https://i.pravatar.cc/56?img=5" alt="ganador">
        <div>
          <div class="winner-name">Jos√© L. ‚Äî Bolsa</div>
          <div class="muted">Gan√≥ premio sorpresa ‚Äî 2025-05-01</div>
        </div>
      </div>
    </div>
  </section>

  <!-- comments -->
  <section class="section">
    <h2>üí¨ Comentarios</h2>
    <div class="comments">
      <div class="bubble">¬°Me encant√≥! Compr√© 3 tickets y tuve suerte üòÑ</div>
      <div class="bubble">Excelente servicio ‚Äî pago r√°pido por Yape ‚úÖ</div>
      <div class="bubble">¬øCu√°ndo anuncian al ganador? ‚è∞</div>
    </div>
  </section>

</main>

<footer>
  ¬© 2025 Casa de la Suerte Per√∫ ‚Äî Todos los derechos reservados
</footer>

<script>
/* ------------- CONFIGURACION EDITABLE ------------- */
const YAPE_NUMBER = "936331215";                 // n√∫mero Yape (mostrar y copiar)
const MPAGO_LINK_BASE = "https://mpago.la/1jQtrAC"; // tu link de MercadoPago (puedes a√±adir par√°metros)
const PRICE_SMALL = 1.00;   // S/1 por ticket
const PRICE_BIG = 10.00;    // S/10 por ticket
/* -------------------------------------------------- */

/* helpers DOM */
const tickets1 = document.getElementById('tickets1');
const total1 = document.getElementById('total1');
const tickets10 = document.getElementById('tickets10');
const total10 = document.getElementById('total10');
const yapeNum = document.getElementById('yapeNum');
const qrImg = document.getElementById('qrImg');
const pozo = document.getElementById('pozo');
const acum = document.getElementById('acum');

yapeNum.textContent = YAPE_NUMBER;

/* inicial */
function formatMoney(n){ return "S/ " + Number(n).toFixed(2); }
function updateTotals(){
  const t1 = Math.max(1, Number(tickets1.value||1));
  const t10 = Math.max(1, Number(tickets10.value||1));
  total1.textContent = "Total: " + formatMoney(t1 * PRICE_SMALL);
  total10.textContent = "Total: " + formatMoney(t10 * PRICE_BIG);
  // actualizar QR con opci√≥n prioritaria: si el usuario toc√≥ S/10, preferimos mostrar su QR; aqui mostramos S/1 QR si est√° en foco
  generateQR();
}
tickets1.addEventListener('input', updateTotals);
tickets10.addEventListener('input', updateTotals);

/* Demo: valores de pozo / acumulado (puedes reemplazar por valores desde JSON o base de datos) */
let demoPozo = 0.00;
let demoAcum = 0.00;
function refreshDemoNumbers(){
  // simplemente actualizamos (en producci√≥n reemplazar con fetch desde content.json o API)
  pozo.textContent = formatMoney(demoPozo);
  acum.textContent = formatMoney(demoAcum);
}
/* Llamada inicial */
updateTotals();
refreshDemoNumbers();

/* ---------- Pagos ---------- */
/* Botones */
document.getElementById('payYape1').addEventListener('click',function(){
  const count = Math.max(1, Number(tickets1.value||1));
  const amount = (count * PRICE_SMALL).toFixed(2);
  openYapePayment(amount);
});
document.getElementById('payYape10').addEventListener('click',function(){
  const count = Math.max(1, Number(tickets10.value||1));
  const amount = (count * PRICE_BIG).toFixed(2);
  openYapePayment(amount);
});

/* Tarjeta (MercadoPago) */
document.getElementById('payCard1').addEventListener('click',function(){
  const count = Math.max(1, Number(tickets1.value||1)), amount=(count*PRICE_SMALL).toFixed(2);
  openCardPayment(amount);
});
document.getElementById('payCard10').addEventListener('click',function(){
  const count = Math.max(1, Number(tickets10.value||1)), amount=(count*PRICE_BIG).toFixed(2);
  openCardPayment(amount);
});

/* Abre link de tarjeta (mercadopago) con posible par√°metro de monto */
function openCardPayment(amount){
  // intentamos pasar monto como par√°metro (si tu link lo acepta)
  let link = MPAGO_LINK_BASE;
  // a√±adimos amount si queremos que aparezca (seg√∫n configuraci√≥n de tu preferencia)
  if(!link.includes("?")) link += "?";
  link += "amount=" + encodeURIComponent(amount);
  window.open(link, "_blank");
}

/* Yape: mostramos QR que contenga el n√∫mero y monto; tambi√©n copiamos n√∫mero al portapapeles */
function openYapePayment(amount){
  // Copiar n√∫mero al portapapeles y mostrar notificaci√≥n ligera
  navigator.clipboard?.writeText(YAPE_NUMBER).then(()=>{
    alert("N√∫mero Yape copiado: " + YAPE_NUMBER + " ‚Äî monto: S/ " + amount + "\nEscanea el QR para pagar o env√≠a el monto por Yape.");
  }).catch(()=>{/* ignore */});
  // Opcional: si quieres abrir la App de Yape por esquema, no todos los m√≥viles lo permiten. Aqu√≠ solo actualizamos el QR.
  generateQR(amount);
}

/* Generar QR din√°mico: usamos servicio p√∫blico api.qrserver.com */
function generateQR(preferredAmount){
  // priorizamos: si la S/10 tiene focus/valor reciente y preferredAmount no pasado, se podr√≠a priorizar
  const t1 = Math.max(1, Number(tickets1.value||1));
  const t10 = Math.max(1, Number(tickets10.value||1));
  // si se pas√≥ preferredAmount la usamos, sino usamos total del √∫ltimo control editado (priorizamos S/10 si >1)
  let amount = preferredAmount || (t10>0 ? (t10*PRICE_BIG).toFixed(2) : (t1*PRICE_SMALL).toFixed(2));
  // construimos texto de pago: preferimos el link de MercadoPago con amount para que el QR dirija a tu checkout
  let link = MPAGO_LINK_BASE;
  if(!link.includes("?")) link += "?";
  link += "amount=" + encodeURIComponent(amount);
  // generamos QR con la API p√∫blica
  const qr = "https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=" + encodeURIComponent(link);
  qrImg.src = qr;
}

/* generar inicialmente */
generateQR();

/* Ejemplo: simular actualizaci√≥n del pozo cuando se hace un pago (solo demo) */
function addToPozo(amount){
  demoPozo += Number(amount);
  demoAcum += Number(amount);
  refreshDemoNumbers();
}

/* Para demo: cuando se abre card o yape asumimos pago confirmado y actualizamos n√∫meros.
   En producci√≥n aqu√≠ debes validar transacci√≥n real (webhook) y luego actualizar data. */
window.addEventListener('message',function(){});
/* (Opcional) Si quieres que al presionar Pagar con tarjeta simulemos el ingreso: */
document.getElementById('payCard1').addEventListener('dblclick',function(){
  // doble click simula pago
  addToPozo(PRICE_SMALL * Math.max(1,Number(tickets1.value||1)));
  alert("Simulaci√≥n: pago detectado. Pozo actualizado.");
});

/* Copiar n√∫mero Yape al tocar la imagen QR (√∫til) */
qrImg.addEventListener('click',function(){
  navigator.clipboard?.writeText(YAPE_NUMBER).then(()=>alert("N√∫mero Yape copiado: "+YAPE_NUMBER));
});

</script>
</body>
</html>
