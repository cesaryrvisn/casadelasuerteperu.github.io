<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Casa de la Suerte Per√∫ ‚Äî Sorteos</title>

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-dark:#06203a;
      --card:#0b2a4a;
      --accent:#ffd400;
      --accent-dark:#f2b400;
      --green:#00ff80;
      --muted:#cfe7ff;
      --glass: rgba(255,255,255,0.04);
      --round:22px;
    }
    html,body{height:100%;margin:0;font-family:"Open Sans",system-ui,Arial; background: linear-gradient(180deg,#071a2b 0%, #021025 100%); color:#fff; -webkit-font-smoothing:antialiased}
    .container{max-width:980px;margin:0 auto;padding:18px;}
    header{ text-align:center;padding:22px 10px 6px 10px;}
    h1{ font-family: "Montserrat"; font-weight:800; font-size:34px; margin:6px 0; color:var(--accent); text-shadow:0 4px 18px rgba(0,0,0,0.6)}
    p.lead{color:var(--muted); margin:6px 0 18px; font-size:16px;}
    /* main card */
    .card{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); border-radius:26px; padding:28px; box-shadow: 0 20px 40px rgba(0,0,0,0.6); margin:18px 0;}
    .title-card{display:flex;align-items:center;gap:14px}
    .title-card h2{margin:0;font-family:Montserrat;font-weight:800;color:var(--accent);text-shadow:0 6px 18px rgba(0,0,0,0.6)}
    .subtitle{color:#cfe7ff;margin-top:8px}
    .pozo, .acumulado{font-size:20px;margin:10px 0;color:var(--muted)}
    .big-money{color:var(--green);font-size:28px;font-weight:700;text-shadow:0 6px 12px rgba(0,0,0,0.4)}
    .controls{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-top:14px}
    .tickets-input{width:120px;padding:12px;border-radius:12px;border:none;font-size:18px;text-align:center}
    .btn{padding:14px 22px;border-radius:14px;border:none;font-weight:700;cursor:pointer;box-shadow:0 12px 24px rgba(0,0,0,0.35);display:inline-flex;align-items:center;gap:10px}
    .btn-yape{background:#ff6b5f;color:#fff}
    .btn-card{background:#ff9900;color:#111}
    .row{display:flex;gap:18px;align-items:center;flex-wrap:wrap}
    .total{margin-left:auto;color:var(--muted);font-weight:700}
    /* QR box */
    .qr-box{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:18px;text-align:center}
    .qr-box img{width:180px;height:180px;border-radius:18px;background:#fff;padding:8px}
    /* prizes */
    .prizes{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:14px;margin-top:18px}
    .prize{background:var(--glass);padding:14px;border-radius:12px;text-align:center}
    .prize img{width:64px;height:64px;display:block;margin:0 auto 8px}
    /* winners & testimonials */
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .winner, .testi{background:#021829;padding:12px;border-radius:12px}
    .winner img{width:100%;border-radius:10px;display:block}
    footer{padding:26px 0;text-align:center;color:#b7cde6}
    /* counters */
    .counters{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .counter{background:rgba(255,255,255,0.03);padding:8px 14px;border-radius:10px}
    /* responsive */
    @media (max-width:720px){
      h1{font-size:34px}
      .grid-2{grid-template-columns:1fr}
      .total{margin-left:8px}
    }

    /* confetti button effect */
    .pulse{animation:pulse 1s ease-out;}
    @keyframes pulse{0%{transform:scale(.98)}50%{transform:scale(1.06)}100%{transform:scale(1)}}
  </style>
</head>
<body>

  <!-- Canvas for confetti -->
  <canvas id="confetti-canvas" style="position:fixed;left:0;top:0;pointer-events:none;width:100%;height:100%;z-index:9998"></canvas>

  <div class="container">
    <header>
      <h1>üçÄ CASA DE LA SUERTE PER√ö</h1>
      <p class="lead">La Suerte del D√≠a ‚Äî participa y gana premios cada d√≠a</p>
    </header>

    <!-- Hero card -->
    <section class="card">
      <div class="title-card">
        <h2>üéØ Sorteo Diario Acumulable</h2>
      </div>
      <p class="subtitle">Participa desde S/1 y mira c√≥mo crece el pozo en tiempo real. Tambi√©n sorteos especiales por S/10 (Premio S/500).</p>

      <div style="display:flex;gap:18px;flex-wrap:wrap;margin-top:10px;align-items:center">
        <div style="flex:1;min-width:260px">
          <div class="pozo">Pozo actual: <span class="big-money" id="pozo">S/ 0.00</span></div>
          <div class="acumulado">Acumulado total: <span class="big-money" id="acumulado">S/ 0.00</span></div>

          <!-- S/1 -->
          <div style="margin-top:8px" class="card" id="card-s1">
            <h3 style="margin:0 0 8px 0;color:var(--accent)">Sorteo S/1 ‚Äî por ticket</h3>
            <div class="row">
              <label style="min-width:90px">Tickets:</label>
              <input type="number" id="tickets-s1" class="tickets-input" value="1" min="1" />
              <div class="total" id="total-s1">Total: S/ 1.00</div>
            </div>
            <div style="margin-top:12px" class="row">
              <button class="btn btn-yape" id="pay-yape-s1">üì± Pagar por Yape (S/1)</button>
              <button class="btn btn-card" id="pay-card-s1">üí≥ Pagar con Tarjeta (S/1)</button>
            </div>
            <small style="display:block;margin-top:8px;color:var(--muted)">Monto base S/1. Por defecto S/1 por ticket.</small>
          </div>

          <!-- S/10 -->
          <div style="margin-top:16px" class="card" id="card-s10">
            <h3 style="margin:0 0 8px 0;color:var(--accent)">Sorteo Especial ‚Äî S/10 por ticket (Premio S/500)</h3>
            <div class="row">
              <label style="min-width:90px">Tickets:</label>
              <input type="number" id="tickets-s10" class="tickets-input" value="1" min="1" />
              <div class="total" id="total-s10">Total: S/ 10.00</div>
            </div>
            <div style="margin-top:12px" class="row">
              <button class="btn btn-yape" id="pay-yape-s10">üì± Pagar por Yape (S/10)</button>
              <button class="btn btn-card" id="pay-card-s10">üí≥ Pagar con Tarjeta (S/10)</button>
            </div>
            <small style="display:block;margin-top:8px;color:var(--muted)">El sorteo S/10 participa en el sorteo mensual por S/500.</small>
            <div style="margin-top:10px" class="counters">
              <div class="counter">‚è≥ Reinicio diario: <span id="countdown-midnight">--:--:--</span></div>
              <div class="counter">üìÖ Siguiente sorteo mensual: <span id="countdown-month">--d --h</span></div>
            </div>
          </div>

        </div>

        <!-- QR + info -->
        <aside style="width:260px;min-width:200px">
          <div class="qr-box">
            <strong>Paga por Yape</strong>
            <p style="margin:8px 0;color:var(--muted)">Escanea el QR o env√≠a a <strong id="yape-phone">936331215</strong></p>
            <img id="qr-img" src="" alt="QR de pago" />
            <p style="font-size:13px;color:var(--muted);margin-top:8px">El QR se actualiza seg√∫n el total seleccionado.</p>

            <div style="margin-top:12px">
              <a id="mpago-link" href="#" target="_blank" class="btn btn-card" style="width:100%;justify-content:center">üí≥ Ir a Pago (MercadoPago)</a>
            </div>
          </div>

          <div style="margin-top:12px;text-align:center;color:var(--muted);font-size:13px">
            <small>Despu√©s del pago sube tu comprobante y nombre al WhatsApp o al formulario que uses.</small>
          </div>
        </aside>
      </div>
    </section>

    <!-- premios -->
    <section class="card">
      <h3 style="color:var(--accent)">üèÜ Premios del D√≠a</h3>
      <div class="prizes">
        <div class="prize"><img src="https://i.imgur.com/6YV8zGm.png" alt="cash"/><div>Premio S/500 (sorteo mensual)</div></div>
        <div class="prize"><img src="https://i.imgur.com/3w1b1T2.png" alt="bolso"/><div>Bolsos y accesorios</div></div>
        <div class="prize"><img src="https://i.imgur.com/8Qv2NqJ.png" alt="perfume"/><div>Perfumes y sets</div></div>
        <div class="prize"><img src="https://i.imgur.com/2KQ4YQh.png" alt="gift"/><div>Premios sorpresa</div></div>
      </div>
    </section>

    <!-- winners & testimonials -->
    <section class="card">
      <h3 style="color:var(--accent)">üßë‚Äçü§ù‚Äçüßë Ganadores Recientes</h3>
      <div class="grid-2" style="margin-top:12px">
        <div class="winner">
          <img src="https://i.imgur.com/7k4zX7x.jpg" alt="ganador1"/>
          <p style="margin:8px 0 0"><strong>Mar√≠a P.</strong> ‚Äî Ganadora S/200 (17/05/2025)</p>
        </div>
        <div class="winner">
          <img src="https://i.imgur.com/3mKQ0YF.jpg" alt="ganador2"/>
          <p style="margin:8px 0 0"><strong>Jos√© R.</strong> ‚Äî Ganador S/50 (12/05/2025)</p>
        </div>
      </div>

      <h3 style="color:var(--accent);margin-top:16px">üí¨ Comentarios</h3>
      <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap">
        <div class="testi" style="flex:1;min-width:220px">
          <p>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Muy r√°pido, pagu√© por Yape y me confirmaron en minutos. ¬°Gracias!" ‚Äî Ana</p>
        </div>
        <div class="testi" style="flex:1;min-width:220px">
          <p>‚≠ê‚≠ê‚≠ê‚≠ê "Buena experiencia y premios reales." ‚Äî Luis</p>
        </div>
      </div>
    </section>

    <footer>
      ¬© 2025 Casa de la Suerte Per√∫ ‚Äî Todos los derechos reservados
    </footer>
  </div>

  <!-- scripts -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    // Config (cambia aqu√≠ los datos si quieres)
    const PHONE_YAPE = "936331215";
    const MPAGO_LINK_BASE = "https://mpago.la/1jQtrAC"; // tu link de MercadoPago (abre para seleccionar monto o pagar)
    const BASE_S1 = 1.0;
    const BASE_S10 = 10.0;

    // elementos
    const ticketsS1 = document.getElementById('tickets-s1');
    const ticketsS10 = document.getElementById('tickets-s10');
    const totalS1 = document.getElementById('total-s1');
    const totalS10 = document.getElementById('total-s10');
    const qrImg = document.getElementById('qr-img');
    const yapePhoneEl = document.getElementById('yape-phone');
    const mpagoLink = document.getElementById('mpago-link');

    yapePhoneEl.textContent = PHONE_YAPE;
    mpagoLink.href = MPAGO_LINK_BASE;

    // helpers
    function formatMoney(num){ return 'S/ ' + Number(num).toFixed(2); }

    function updateTotals(){
      const t1 = Math.max(1, parseInt(ticketsS1.value || 1));
      const t10 = Math.max(1, parseInt(ticketsS10.value || 1));
      const tot1 = (t1 * BASE_S1);
      const tot10 = (t10 * BASE_S10);
      totalS1.textContent = 'Total: ' + formatMoney(tot1);
      totalS10.textContent = 'Total: ' + formatMoney(tot10);

      // actualizar pozo ficticio y acumulado (ejemplo)
      document.getElementById('pozo').textContent = formatMoney(tot1 + 0.00);
      document.getElementById('acumulado').textContent = formatMoney(tot1 + tot10);

      // actualizar QR: generamos un texto con telefono y monto
      const chosen = tot10>0 && tot10>=10 ? tot10 : tot1; // prioridad al sorteo S/10 si hay
      updateQR(chosen);
      // actualizar link mpago con query simple (si tu link acepta amount, sino se abre el link base)
      // Si tu mpago.la acepta agregar /?amount=XYZ podr√≠as concatenarlo. Aqu√≠ dejamos base.
      mpagoLink.href = MPAGO_LINK_BASE;
    }

    // Genera un QR con texto (usa qrserver)
    function updateQR(amount){
      const text = encodeURIComponent(`Pagar S/${amount.toFixed(2)} a Yape ${PHONE_YAPE} ‚Äî Casa de la Suerte Per√∫`);
      const url = `https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${text}`;
      qrImg.src = url;
    }

    // Confetti
    function explodeConfetti(){
      confetti.create(document.getElementById('confetti-canvas'), { resize: true, useWorker: true })({
        particleCount: 80,
        spread: 60,
        origin: { y: 0.3 }
      });
    }

    // Event listeners para botones (simula comportamiento)
    document.getElementById('pay-yape-s1').addEventListener('click', ()=>{
      const t = Math.max(1, parseInt(ticketsS1.value||1));
      const amount = t * BASE_S1;
      // abrir QR grande: puedes redirigir a una vista con la imagen QR (aqu√≠ mostramos alerta y confetti)
      window.open(qrImg.src, '_blank');
      // efecto visual
      explodeConfetti();
    });
    document.getElementById('pay-yape-s10').addEventListener('click', ()=>{
      const t = Math.max(1, parseInt(ticketsS10.value||1));
      const amount = t * BASE_S10;
      window.open(qrImg.src, '_blank');
      explodeConfetti();
    });

    // Botones tarjeta: van al link de MPago (abrir en nueva pesta√±a)
    document.getElementById('pay-card-s1').addEventListener('click', ()=>{
      // si tu link mpago permite cantidad, podr√≠as a√±adir ?amount=...
      window.open(MPAGO_LINK_BASE, '_blank');
      explodeConfetti();
    });
    document.getElementById('pay-card-s10').addEventListener('click', ()=>{
      window.open(MPAGO_LINK_BASE, '_blank');
      explodeConfetti();
    });

    // Input changes
    ticketsS1.addEventListener('change', updateTotals);
    ticketsS1.addEventListener('input', updateTotals);
    ticketsS10.addEventListener('change', updateTotals);
    ticketsS10.addEventListener('input', updateTotals);

    // countdown to midnight and to end-of-month
    function updateCountdowns(){
      const now = new Date();
      // midnight countdown
      const tonight = new Date(now);
      tonight.setHours(24,0,0,0);
      const diff = Math.max(0, Math.floor((tonight - now)/1000));
      const hh = String(Math.floor(diff/3600)).padStart(2,'0');
      const mm = String(Math.floor((diff%3600)/60)).padStart(2,'0');
      const ss = String(diff%60).padStart(2,'0');
      document.getElementById('countdown-midnight').textContent = `${hh}:${mm}:${ss}`;

      // monthly countdown to last day of month 23:59:59
      const year = now.getFullYear(), month = now.getMonth();
      const lastDay = new Date(year, month+1, 0, 23,59,59);
      const diff2 = Math.max(0, Math.floor((lastDay - now)/1000));
      const days = Math.floor(diff2 / 86400);
      const hours = Math.floor((diff2 % 86400) / 3600);
      document.getElementById('countdown-month').textContent = `${days}d ${hours}h`;
    }

    // initial
    updateTotals();
    updateCountdowns();
    setInterval(updateCountdowns, 1000);

    // small UX: pulse + confetti when page loads
    window.addEventListener('load', ()=> {
      setTimeout(()=> explodeConfetti(), 600);
    });

    // OPTIONAL: If you want the QR to open a modal inside the site, you can add code here.
  </script>
</body>
</html>
